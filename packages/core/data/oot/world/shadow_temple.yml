"Shadow Temple":
  dungeon: Shadow
  exits:
    "Graveyard Upper": "true"
    "Shadow Temple Pit": "has_hover_boots || can_hookshot"
"Shadow Temple Pit":
  dungeon: Shadow
  exits:
    "Shadow Temple Main": "has_hover_boots && has_lens"
  events:
    #There are a lot of ways this works, but it always needs this trick.
    MAGIC: "trick(OOT_LENS)"
  locations:
    "Shadow Temple Map": "has_lens"
    "Shadow Temple Hover Boots": "has_lens"
"Shadow Temple Main":
  dungeon: Shadow
  exits:
    "Shadow Temple Open": "small_keys(SMALL_KEY_SHADOW, 1) && has_explosives"
  locations:
    "Shadow Temple Silver Rupees": "is_adult && (can_hookshot || has_hover_boots)"
    "Shadow Temple Compass": "true"
"Shadow Temple Open":
  dungeon: Shadow
  exits:
    "Shadow Temple Wind": "small_keys(SMALL_KEY_SHADOW, 3) && can_hookshot && has_lens"
  locations:
    "Shadow Temple Spinning Blades Visible": "true"
    "Shadow Temple Spinning Blades Invisible": "has_lens"
    "Shadow Temple Falling Spikes Lower": "true"
    "Shadow Temple Falling Spikes Upper 1": "is_adult && (has(STRENGTH) && has_lens)"
    "Shadow Temple Falling Spikes Upper 2": "is_adult && (has(STRENGTH) && has_lens)"
    "Shadow Temple Invisible Spike Room": "small_keys(SMALL_KEY_SHADOW, 2) && can_hookshot && has_lens"
    "Shadow Temple Skull": "small_keys(SMALL_KEY_SHADOW, 2) && can_hookshot && has_bombflowers && has_lens"
    "Shadow Temple GS Skull Pot": "small_keys(SMALL_KEY_SHADOW, 2) && can_hookshot && has_lens"
    "Shadow Temple GS Falling Spikes": "can_collect_distance"
    "Shadow Temple GS Invisible Scythe": "can_collect_distance"
"Shadow Temple Wind":
  dungeon: Shadow
  exits:
    "Shadow Temple Boat": "small_keys(SMALL_KEY_SHADOW, 4) && can_play(SONG_ZELDA)"
  locations:
    "Shadow Temple Wind Room Hint": "has_lens"
    "Shadow Temple After Wind": "true"
    "Shadow Temple After Wind Invisible": "has_explosives && has_lens"
    "Shadow Temple GS Near Boat": "small_keys(SMALL_KEY_SHADOW, 4) && can_longshot"
"Shadow Temple Boat":
  dungeon: Shadow
  exits:
    "Shadow Temple Boss": "small_keys(SMALL_KEY_SHADOW, 5) && boss_key(BOSS_KEY_SHADOW) && (can_use_bow || scarecrow_longshot)"
  locations:
    "Shadow Temple Boss Key Room 1": "can_use_din"
    "Shadow Temple Boss Key Room 2": "can_use_din"
    "Shadow Temple Invisible Floormaster": "true"
    "Shadow Temple GS Triple Skull Pot": "can_collect_distance"
